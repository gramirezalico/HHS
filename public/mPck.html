<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Agregar Embalaje</title>
  <link rel="stylesheet" href="HH.css" />
</head>
<body>
  <div class="modal-page-wrapper">
    <h1 style="text-align:center;">Agregar embalaje</h1>
    <div class="order-info">Orden 1 Línea 2 Embarque 1 Línea 1</div>
    <div class="tab-group" style="display: flex; border-bottom: 1.5px solid #e0e0e0; margin-bottom: 1.2em;">
      <button type="button" class="tab-btn active" id="tabCajas" style="flex:1; border:none; background:none; font-weight:bold; color:#2563eb; border-bottom:2.5px solid #2563eb; padding:0.7em 0; cursor:pointer;">Cajas</button>
      <button type="button" class="tab-btn" id="tabPallet" style="flex:1; border:none; background:none; font-weight:normal; color:#444; border-bottom:2.5px solid transparent; padding:0.7em 0; cursor:pointer;">Pallet</button>
    </div>
    <form id="packagingForm">
      <!-- Cajas Tab: múltiples filas tipo + cantidad -->
      <div id="tabCajasContent">
        <div id="cajasRows" class="rows-wrapper"></div>
        <div style="margin:0.5em 0 1.2em;">
          <button type="button" id="addCajaRowBtn" class="btn" style="background:#f3f4f6; color:#2563eb; border:1px solid #2563eb;">+ Agregar fila caja</button>
        </div>
        <div class="modal-button-group">
          <button type="submit" class="btn btn-save" style="font-weight:bold; font-size:1.05em; min-width:120px;">Guardar</button>
          <a href="HH.html" class="btn" style="background:#f5f7fa; color:#2563eb; border:1.5px solid #2563eb; font-weight:bold; font-size:1.05em; min-width:120px; text-align:center; line-height:2.2em;">Cerrar</a>
        </div>
      </div>
      <div id="tabPalletContent" style="display:none;">
        <div id="palletRows" class="rows-wrapper" style="margin-bottom:1em;"></div>
        <div style="margin:0.5em 0 1.2em;">
          <button type="button" id="addPalletRowBtn" class="btn" style="background:#f3f4f6; color:#2563eb; border:1px solid #2563eb;">+ Agregar fila pallet</button>
        </div>
        <fieldset class="form-row" style="display:flex; gap:1em; margin-bottom:1.2em; border:1px solid #e0e0e0; padding:0.8em;">
          <legend style="font-size:0.9em; padding:0 0.4em;">Tipo de pallet</legend>
          <label style="display:flex; align-items:center; gap:0.4em;">
            <input type="radio" name="palletType" value="NORMAL" /> Normal
          </label>
          <label style="display:flex; align-items:center; gap:0.4em;">
            <input type="radio" name="palletType" value="MEDIANO" /> Mediano
          </label>
          <label style="display:flex; align-items:center; gap:0.4em;">
            <input type="radio" name="palletType" value="GRANDE" /> Grande
          </label>
          <div style="flex:1; text-align:right;">
            <label for="palletTotalWeight" style="min-width:110px;">Peso total (kg)</label>
            <input type="text" id="palletTotalWeight" class="number-input" style="width:120px; margin-left:0.5em;" value="" />
          </div>
        </fieldset>
        <div style="display:flex; justify-content:space-between; align-items:center; margin-top:0.5em;">
          <div style="font-size:0.85em; color:#555;">Peso pallet base se suma según tipo. Peso total se recalcula automáticamente.</div>
          <div style="font-weight:bold;">Peso total calculado: <span id="palletWeightCalc">0</span> kg</div>
        </div>
        <div class="modal-button-group">
          <button type="submit" class="btn btn-save" style="font-weight:bold; font-size:1.1em; min-width:120px;">Guardar</button>
          <a href="HH.html" class="btn" style="background:#f5f7fa; color:#2563eb; border:1.5px solid #2563eb; font-weight:bold; font-size:1.1em; min-width:120px; text-align:center; line-height:2.2em;">Volver</a>
        </div>
      </div>
    </form>
  </div>
  <script src="assets/js/controller.js"></script>
  <script src="assets/js/bdLocal.js"></script>
  <script src="assets/js/mPck.js"></script>
</body>
</html>